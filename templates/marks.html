<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>marks</title>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


    <style>
        .container {
            display: flex;
        }

        .form-container {
            flex: 1;
            margin-right: 10px;
            font-size:20px;
        }

        .table-container {
            colspan:"3";
            flex:3;
            margin-right:130px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 8px;
            border: 2px solid black;
        }
        body {
    background:linear-gradient(to left, #33ccff 0%, #ffffff 100% );
    }
    h3 {text-align:center;}
    </style>

</head>
<body>
        <h3>College Management System</h3>
        <div class="container">
            <div class="form-container">
                <form id="myform" method="get" action="/marks">
                    <label for="sl_no">Sl_no:</label><br>
                    <input type="number" id="sl_no" name=roll_no ><br>
                    <label for="roll_no">Roll_no:</label><br>
                    <input type="number" id="roll_no" name=roll_no ><br>
                    <label for="sem">sem:</label><br>
                    <input type="number" id="sem" name="sem" ><br>
                    <label for="sub1">sub1:</label><br>
                    <input type="number" id="sub1" name="sub1" ><br>
                    <label for="sub2">sub2:</label><br>
                    <input type="number" id="sub2" name="sub2" ><br>
                    <label for="sub3">sub3:</label><br>
                    <input type="number" id="sub3" name="sub3" ><br>
                    <label for="sub4">sub4:</label><br>
                    <input type="number" id="sub4" name="sub4" ><br>
                    <label for="sub5">sub5:</label><br>
                    <input type="number" id="sub5" name=sub5 ><br>
                    <label for="sub6">sub6:</label><br>
                    <input type="number" id="sub6" name=sub6 ><br>

                     <button type="submit" value="submit" form="myform" formmethod="post" formaction="/add_marks">ADD</button><br>
                     <button type="button" onclick="addRow()">ADDROW</button>
                                                                {{error}}
                </form><br>
                <br />
                <form style="text-align:left;">
                    <button type="submit" id="logout" value="submit" name="Logout" formmethod="get" formaction="/logout">Logout</button>
                </form><br>

                <a href="/add_attendance">click here to go to attendance page</a><br>
                <a href="/login">click here to go to marks page</a>
            </div>

            <div class="table-container">
                <table id="marks_table">

                <tr>
                    <th>sl_no</th>
                    <th >roll_no</th>
                    <th >sem</th>
                    <th >sub1</th>
                    <th >sub2</th>
                    <th >sub3</th>
                    <th >sub4</th>
                    <th>sub5</th>
                    <th>sub6</th>
                </tr>
                <tbody>

                </tbody>

                </table>
            </div>
        </div>

    <script>
        var rowCount = 1;

        function addRow() {
            var sl_no = document.getElementById("sl_no").value;
            var roll_no = document.getElementById("roll_no").value;
            var sem = document.getElementById("sem").value;
            var sub1 = document.getElementById("sub1").value;
            var sub2 = document.getElementById("sub2").value;
            var sub3 = document.getElementById("sub3").value;
            var sub4 = document.getElementById("sub4").value;
            var sub5 = document.getElementById("sub5").value;
            var sub6 = document.getElementById("sub6").value;

            var table = document.getElementById("marks_table").getElementsByTagName("tbody")[0];
            var newRow = table.insertRow(rowCount);
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            var cell4 = newRow.insertCell(3);
            var cell5 = newRow.insertCell(4);
            var cell6 = newRow.insertCell(5);
            var cell7 = newRow.insertCell(6);
            var cell8 = newRow.insertCell(7);
            var cell9 = newRow.insertCell(8);
            cell1.innerHTML = sl_no;
            cell2.innerHTML = roll_no;
            cell3.innerHTML = sem;
            cell4.innerHTML = sub1;
            cell5.innerHTML = sub2;
            cell6.innerHTML = sub3;
            cell7.innerHTML = sub4;
            cell8.innerHTML = sub5;
            cell9.innerHTML = sub6;
            rowCount++;

            // Clear input fields after adding row
           document.getElementById("sl_no").value = "";
           document.getElementById("roll_no").value = "";
           document.getElementById("sem").value="";
           document.getElementById("sub1").value="";
           document.getElementById("sub2").value="";
           document.getElementById("sub3").value="";
           document.getElementById("sub4").value="";
           document.getElementById("sub5").value="";
           document.getElementById("sub6").value="";

        }
        $("#myform").submit(function(event) {
            event.preventDefault(); // Prevent form submission

            // Serialize form data
            var formData = $(this).serialize();

       $.ajax({
                url: "http://127.0.0.1:5000/add_marks", // Replace with your server-side processing script URL
                type: "POST",
                data: formData,
                success: function(response) {
                    // Handle the server response, if needed
                },
                error: function() {
                    // Handle the error, if any
                }
            });
        });
    </script>
</body>
</html>





